building functions and more and more nested loops in C
